define(["exports","module","toggle/Controller","toggle/Toggle"],function(t,e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=s(i),g=s(n),a="click",u="switch",h=function(){function t(e,i){o(this,t),this._element=e,this._options=i,this._toggle=null,this._targets=null,this._triggerFn=null,this._intitialize()}return r(t,[{key:"_intitialize",value:function(){var t=this,e=this._options.event||a;this._options.toggle&&(this._toggle=new g["default"](this._element,this._options)),this._element&&(this._triggerFn=function(e){return t._trigger(e)},this._element.addEventListener(e,this._triggerFn))}},{key:"_trigger",value:function(t){var e=this._options.method||u,i=this._options.preventDefault!==!1?!0:this._options.preventDefault;"click"===t.type&&i&&t.preventDefault(),this._targets||this._setTargets(),this._targets.forEach(function(t,i){var n=e.split(","),s=n.length>1?i:0;t[e.split(",")[s]]()})}},{key:"_setTargets",value:function(){this._targets=l["default"].getToggles(this._options.targets),this._toggle&&this._targets.push(this._toggle)}},{key:"getTargets",value:function(){return this._targets}},{key:"unload",value:function(){if(this._options.toggle&&this._toggle.unload(),this._element){var t=this._options.event||a;this._element.removeEventListener(t,this._triggerFn)}}}]),t}();e.exports=h});
